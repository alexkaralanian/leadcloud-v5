webpackJsonp([13,15],{1004:function(e,a,t){"use strict";function n(e){return function(){var a=e.apply(this,arguments);return new Promise(function(e,t){function n(r,l){try{var c=a[r](l),o=c.value}catch(e){return void t(e)}if(!c.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}t.d(a,"g",function(){return f}),t.d(a,"f",function(){return p}),t.d(a,"b",function(){return E}),t.d(a,"a",function(){return b}),t.d(a,"h",function(){return g}),t.d(a,"d",function(){return y}),t.d(a,"e",function(){return v}),t.d(a,"c",function(){return w});var r=t(260),l=t.n(r),c=t(259),o=t.n(c),s=t(10),i=this,m=function(e,a){return{type:s.t,emails:e,pageToken:a}},u=function(e){return{type:s.s,email:e}},f=function(e,a){return{type:s.u,emailsByContact:e,pageToken:a}},p=function(e){return{type:s.w,emailQuery:e}},d=function(e){return{type:s.f,isFetching:e}},h=function(e){return{type:s.g,isLoading:e}},E=function(){return{type:s.c}},b=function(){return{type:s.b}},g=function(e){return{type:s.x,error:e}},y=function(e,a,t){return function(){var r=n(l.a.mark(function n(r){var c;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a||r(d(!0)),r(h(!0)),n.prev=2,n.next=5,o.a.get("/api/email/gmail?maxResults="+e+"&pageToken="+a);case 5:c=n.sent,r(m(t.concat(c.data.emailArray),c.data.nextPageToken)),r(d(!1)),r(h(!1)),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(2),console.error("Fetching emails from gmail unsuccessful",n.t0.response.data),r(g("Fetching emails from Gmail unsuccessful: ("+n.t0.response.data.error.code+", "+n.t0.response.data.error.errors[0].message+")")),r(d(!1));case 16:case"end":return n.stop()}},n,i,[[2,11]])}));return function(e){return r.apply(this,arguments)}}()},v=function(e,a,t,r){return function(){var c=n(l.a.mark(function n(c){var s;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c(h(!0)),n.prev=1,n.next=4,o.a.get("/api/email/gmail?maxResults="+a+"&pageToken="+t+"&q="+e);case 4:s=n.sent,s.data.emailArray&&c(f(r.concat(s.data.emailArray),s.data.nextPageToken)),c(h(!1)),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(1),console.error("Fetching emails by contact unsuccessful",n.t0),c(g("Fetching Contact Emails from Gmail unsuccessful: ("+n.t0.response.data.error.code+", "+n.t0.response.data.error.errors[0].message+")")),c(h(!1));case 14:case"end":return n.stop()}},n,i,[[1,9]])}));return function(e){return c.apply(this,arguments)}}()},w=function(e){return function(){var a=n(l.a.mark(function a(t){var n;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t(d(!0)),a.prev=1,a.next=4,o.a.get("/api/email/gmail/"+e);case 4:n=a.sent,t(u(n.data)),t(d(!1)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),console.error("Fetching single email unsuccessful",a.t0),t(d(!1));case 13:case"end":return a.stop()}},a,i,[[1,9]])}));return function(e){return a.apply(this,arguments)}}()}},1250:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(28),c=t(1251),o=(t.n(c),function(){return r.a.createElement("nav",null,r.a.createElement("a",{href:"#/ui-kits/email/compose",className:"btn btn-danger btn-block"},"New Email"),r.a.createElement(l.B,{id:"email_nav"},r.a.createElement(l.C,null,r.a.createElement(l.D,{href:"#/ui-kits/email/inbox"},r.a.createElement("i",{className:"fa fa-inbox"})," Inbox ",r.a.createElement(l.b,{color:"danger"},"4"))),r.a.createElement(l.C,null,r.a.createElement(l.D,{href:"#"},r.a.createElement("i",{className:"fa fa-star"})," Stared")),r.a.createElement(l.C,null,r.a.createElement(l.D,{href:"#"},r.a.createElement("i",{className:"fa fa-rocket"})," Sent")),r.a.createElement(l.C,null,r.a.createElement(l.D,{href:"#"},r.a.createElement("i",{className:"fa fa-trash-o"})," Trash")),r.a.createElement(l.C,null,r.a.createElement(l.D,{href:"#"},r.a.createElement("i",{className:"fa fa-bookmark"})," Important",r.a.createElement(l.b,{color:"info"},"5"))),r.a.createElement(l.C,null,r.a.createElement(l.D,{href:"#"},r.a.createElement("i",{className:"fa fa-exclamation-circle"})," Spam"," ",r.a.createElement(l.b,{color:"danger"},"4")))))});a.a=o},1251:function(e,a,t){var n=t(1252);"string"===typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0};r.transform=void 0;t(140)(n,r);n.locals&&(e.exports=n.locals)},1252:function(e,a,t){a=e.exports=t(139)(void 0),a.push([e.i,"@media screen and (min-width: 0px) and (max-width: 587px) {\n  #email_nav {\n    display: none; }\n  nav a {\n    margin-bottom: 0 !important; }\n  nav {\n    padding-bottom: 0 !important; } }\n",""])},1253:function(e,a,t){"use strict";function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function r(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}function l(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}var c=t(0),o=t.n(c),s=t(18),i=t(28),m=t(273),u=t.n(m),f=t(143),p=t(1004),d=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}(),h=function(e){function a(){var e,t,l,c;n(this,a);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return t=l=r(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(s))),l.state={dropdownOpen:!1},l.onScroll=function(){var e=l.props,a=e.fetchEmails,t=e.maxResults,n=e.pageToken,r=e.emails,c=e.isLoading;window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&r.length&&!c&&a(t,n,r)},l.toggle=function(){l.setState({dropdownOpen:!l.state.dropdownOpen})},c=t,r(l,c)}return l(a,e),d(a,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchEmails)(e.maxResults,e.pageToken,e.emails),window.addEventListener("scroll",this.onScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){var e=this.props.emails;return o.a.createElement("main",{className:"inbox"},o.a.createElement("div",{className:"toolbar"},o.a.createElement(i.g,null,o.a.createElement(i.e,{color:"light"},o.a.createElement("span",{className:"fa fa-envelope"})),o.a.createElement(i.e,{color:"light"},o.a.createElement("span",{className:"fa fa-star"})),o.a.createElement(i.e,{color:"light"},o.a.createElement("span",{className:"fa fa-star-o"})),o.a.createElement(i.e,{color:"light"},o.a.createElement("span",{className:"fa fa-bookmark-o"}))),o.a.createElement(i.g,null,o.a.createElement(i.e,{color:"light"},o.a.createElement("span",{className:"fa fa-mail-reply"})),o.a.createElement(i.e,{color:"light"},o.a.createElement("span",{className:"fa fa-mail-reply-all"})),o.a.createElement(i.e,{color:"light"},o.a.createElement("span",{className:"fa fa-mail-forward"}))),o.a.createElement(i.e,{color:"light"},o.a.createElement("span",{className:"fa fa-trash-o"})),o.a.createElement(i.f,{isOpen:this.state.dropdownOpen,toggle:this.toggle},o.a.createElement(i.s,{caret:!0,color:"light"},o.a.createElement("span",{className:"fa fa-tags"})),o.a.createElement(i.r,null,o.a.createElement(i.q,null,"add label",o.a.createElement(i.b,{color:"danger"},"Home")),o.a.createElement(i.q,null,"add label",o.a.createElement(i.b,{color:"info"},"Job")),o.a.createElement(i.q,null,"add label",o.a.createElement(i.b,{color:"success"},"Clients")),o.a.createElement(i.q,null,"add label",o.a.createElement(i.b,{color:"warning"},"News")))),o.a.createElement(i.g,{className:"float-right"},o.a.createElement(i.e,{color:"light"},o.a.createElement("span",{className:"fa fa-chevron-left"})),o.a.createElement(i.e,{color:"light"},o.a.createElement("span",{className:"fa fa-chevron-right"})))),o.a.createElement("ul",{className:"messages"},e&&e.map(function(e){return o.a.createElement("li",{className:"message unread"},o.a.createElement(f.a,{to:"/emails/"+e.id},o.a.createElement("div",{className:"actions"},o.a.createElement("span",{className:"action"},o.a.createElement("i",{className:"fa fa-square-o"})),o.a.createElement("span",{className:"action"},o.a.createElement("i",{className:"fa fa-star-o"}))),o.a.createElement("div",{className:"header"},o.a.createElement("span",{className:"from"},e.name),o.a.createElement("span",{className:"date"},o.a.createElement("span",{className:"fa fa-paper-clip"})," ",u()(e.date).format("ddd, M/D/YY h:mma"))),o.a.createElement("div",{className:"title"},e.subject),o.a.createElement("div",{className:"description"},e.snippet,"...")))})))}}]),a}(o.a.Component),E=function(e){return{emails:e.emailReducer.emails,maxResults:e.emailReducer.maxResults,pageToken:e.emailReducer.pageToken,isFetching:e.emailReducer.isFetching,isLoading:e.emailReducer.isLoading}},b={fetchEmails:p.d,clearEmails:p.b};a.a=Object(s.b)(E,b)(h)},733:function(e,a,t){"use strict";function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function r(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}function l(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var c=t(0),o=t.n(c),s=t(18),i=t(273),m=t.n(i),u=t(28),f=t(1004),p=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}(),d=function(e){function a(){var e,t,l,c;n(this,a);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return t=l=r(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(s))),l.state={dropdownOpen:!1},l.toggle=function(){l.setState({dropdownOpen:!l.state.dropdownOpen})},c=t,r(l,c)}return l(a,e),p(a,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchEmail)(e.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){this.props.email!==e.email&&this.iframe.contentWindow.document.write(""+e.email.html)}},{key:"componentWillUnmount",value:function(){(0,this.props.clearEmail)()}},{key:"render",value:function(){var e=this,a=this.props,t=(a.isAuthed,a.email);return o.a.createElement(o.a.Fragment,null,o.a.createElement("main",{className:"message"},o.a.createElement("div",{className:"toolbar"},o.a.createElement(u.g,null,o.a.createElement(u.e,{color:"light"},o.a.createElement("span",{className:"fa fa-star"})),o.a.createElement(u.e,{color:"light"},o.a.createElement("span",{className:"fa fa-star-o"})),o.a.createElement(u.e,{color:"light"},o.a.createElement("span",{className:"fa fa-bookmark-o"}))),o.a.createElement(u.g,null,o.a.createElement(u.e,{color:"light"},o.a.createElement("span",{className:"fa fa-mail-reply"})),o.a.createElement(u.e,{color:"light"},o.a.createElement("span",{className:"fa fa-mail-reply-all"})),o.a.createElement(u.e,{color:"light"},o.a.createElement("span",{className:"fa fa-mail-forward"}))),o.a.createElement(u.e,{color:"light"},o.a.createElement("span",{className:"fa fa-trash-o"})),o.a.createElement(u.f,{isOpen:this.state.dropdownOpen,toggle:this.toggle},o.a.createElement(u.s,{caret:!0,color:"light"},o.a.createElement("span",{className:"fa fa-tags"})),o.a.createElement(u.r,null,o.a.createElement(u.q,null,"add label",o.a.createElement(u.b,{color:"danger"},"Home")),o.a.createElement(u.q,null,"add label",o.a.createElement(u.b,{color:"info"},"Job")),o.a.createElement(u.q,null,"add label",o.a.createElement(u.b,{color:"success"},"Clients")),o.a.createElement(u.q,null,"add label",o.a.createElement(u.b,{color:"warning"},"News"))))),o.a.createElement("div",{className:"details"},o.a.createElement("div",{className:"title"},t&&t.subject),o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"from"},o.a.createElement("span",null,t.from&&t.from.value[0].name),t.from&&t.from.value[0].address),o.a.createElement("div",{className:"date"},t&&m()(t.date).format("ddd, M/D/YY h:mma"))),o.a.createElement("div",{className:"content"},o.a.createElement("iframe",{ref:function(a){return e.iframe=a},title:"Email",frameBorder:0,src:"about:blank",scrolling:"yes",width:"100%"})),o.a.createElement("div",{className:"attachments"},o.a.createElement("div",{className:"attachment"},o.a.createElement(u.b,{color:"danger"},"zip")," ",o.a.createElement("b",null,"bootstrap.zip")," ",o.a.createElement("i",null,"(2,5MB)"),o.a.createElement("span",{className:"menu"},o.a.createElement("a",{href:"#",className:"fa fa-search"}),o.a.createElement("a",{href:"#",className:"fa fa-share"}),o.a.createElement("a",{href:"#",className:"fa fa-cloud-download"}))),o.a.createElement("div",{className:"attachment"},o.a.createElement(u.b,{color:"info"},"txt")," ",o.a.createElement("b",null,"readme.txt")," ",o.a.createElement("i",null,"(7KB)"),o.a.createElement("span",{className:"menu"},o.a.createElement("a",{href:"#",className:"fa fa-search"}),o.a.createElement("a",{href:"#",className:"fa fa-share"}),o.a.createElement("a",{href:"#",className:"fa fa-cloud-download"}))),o.a.createElement("div",{className:"attachment"},o.a.createElement(u.b,{color:"success"},"xls")," ",o.a.createElement("b",null,"spreadsheet.xls")," ",o.a.createElement("i",null,"(984KB)"),o.a.createElement("span",{className:"menu"},o.a.createElement("a",{href:"#",className:"fa fa-search"}),o.a.createElement("a",{href:"#",className:"fa fa-share"}),o.a.createElement("a",{href:"#",className:"fa fa-cloud-download"})))),o.a.createElement("form",{method:"post",action:""},o.a.createElement(u.u,null,o.a.createElement(u.v,{type:"textarea",id:"message",name:"body",rows:"12",placeholder:"Click here to reply"})),o.a.createElement(u.u,null,o.a.createElement(u.e,{type:"submit",color:"success"},"Send message"))))))}}]),a}(o.a.Component),h=function(e){return{email:e.emailReducer.email,isFetching:e.emailReducer.isFetching}},E={fetchEmail:f.c,clearEmail:f.a};a.default=Object(s.b)(h,E)(d)},739:function(e,a,t){"use strict";function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function r(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}function l(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var c=t(0),o=t.n(c),s=t(18),i=t(1),m=t.n(i),u=t(143),f=t(967),p=t(1250),d=t(733),h=t(1253),E=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}(),b=function(e){function a(){return n(this,a),r(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return l(a,e),E(a,[{key:"render",value:function(){return this.props.isAuthed?o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,null),o.a.createElement("div",{className:"animated fadeIn"},o.a.createElement("div",{className:"email-app mb-4"},o.a.createElement(p.a,null),o.a.createElement(u.d,{exact:!0,path:"/emails",render:function(e){return o.a.createElement(h.a,e)}}),o.a.createElement(u.d,{path:"/emails/:id",render:function(e){return o.a.createElement(d.default,e)}})))):o.a.createElement(u.c,{to:"/auth"})}}]),a}(o.a.Component),g=function(e){return{isAuthed:e.authReducer.isAuthed}},y={};b.propTypes={isAuthed:m.a.bool.isRequired},a.default=Object(s.b)(g,y)(b)},967:function(e,a,t){"use strict";function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function r(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}function l(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}var c=t(0),o=t.n(c),s=t(18),i=(t(143),t(142)),m=t(28),u=t(968),f=(t.n(u),function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}()),p=function(e){function a(){return n(this,a),r(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return l(a,e),f(a,[{key:"render",value:function(){var e=this,a=this.props.path.slice(1).split("/"),t=function(e){return e.trim().charAt(0).toUpperCase()+e.slice(1).toLowerCase()};return o.a.createElement("div",{id:"breadcrumb_component",className:"row"},o.a.createElement("div",{className:"col-sm"},o.a.createElement(m.c,null,o.a.createElement(m.d,{onClick:function(){return e.props.push("/")}},"Home"),a&&a.map(function(n){var r=a.slice(0,a.indexOf(n)+1);return o.a.createElement(m.d,{onClick:function(){return e.props.push("/"+r)}},t(n))}))))}}]),a}(o.a.Component),d=function(e){return{path:e.router.location.pathname}};a.a=Object(s.b)(d,{push:i.b})(p)},968:function(e,a,t){var n=t(969);"string"===typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0};r.transform=void 0;t(140)(n,r);n.locals&&(e.exports=n.locals)},969:function(e,a,t){a=e.exports=t(139)(void 0),a.push([e.i,"@media screen and (min-width: 0px) and (max-width: 587px) {\n  #breadcrumb_component {\n    display: none; } }\n\n.breadcrumb {\n  margin: 0;\n  padding-left: 0; }\n\n.breadcrumb-item:hover {\n  cursor: pointer; }\n\n.breadcrumb li {\n  color: #20a8d8; }\n\n.breadcrumb li:last-child {\n  color: #9fa1a3;\n  list-style: none;\n  cursor: default; }\n",""])}});
//# sourceMappingURL=13.ab4e6de4.chunk.js.map