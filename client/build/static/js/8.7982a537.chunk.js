webpackJsonp([8],{748:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),u=n.n(i),c=n(25),l=n(156),s=n(290),p=n.n(s),f=n(282),m=n(754),h=n(764),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"componentWillMount",value:function(){this.props.fetchEmail(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){this.props.email!==e.email&&this.iframe.contentWindow.postMessage({email:e.email},"*")}},{key:"componentWillUnmount",value:function(){this.props.clearEmail(),this.props.clearError()}},{key:"render",value:function(){var e=this,t=this.props.email;return this.props.isAuthed?u.a.createElement("div",null,u.a.createElement(m.a,null),u.a.createElement(f.g,null,u.a.createElement(f.n,null,u.a.createElement(f.b,{xs:12},u.a.createElement("h4",null,"Subject: ",t&&t.subject),u.a.createElement("h4",null,"To:"," ",t.to&&p()(t.to.html.replace(/&#x27;/g,"'").replace(/&lt;/g,"").replace(/&gt;/g,""))),u.a.createElement("h4",null,"From:"," ",t.from&&p()(t.from.html.replace(/&#x27;/g,"'").replace(/&lt;/g,"").replace(/&gt;/g,""))))),u.a.createElement("iframe",{ref:function(t){return e.iframe=t},title:"Email",frameBorder:1,src:"/iframecontainer",scrolling:"yes"}))):u.a.createElement(l.a,{push:!0,to:"/"})}}]),t}(u.a.Component),g=function(e){return{email:e.emailReducer.email,isFetching:e.emailReducer.isFetching,error:e.emailReducer.error,isAuthed:e.authReducer.isAuthed}},v={fetchEmail:h.d,clearEmail:h.a,clearError:h.c};t.default=Object(c.b)(g,v)(A)},754:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),u=n.n(i),c=n(25),l=n(155),s=n(1),p=n.n(s),f=n(755),m=n(285),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleLogout=n.handleLogout.bind(n),n}return o(t,e),h(t,[{key:"handleLogout",value:function(){this.props.logout(),this.props.push("/")}},{key:"render",value:function(){return u.a.createElement(f.a,{logout:this.handleLogout,user:this.props.user,isAuthed:this.props.isAuthed,push:this.props.push})}}]),t}(u.a.Component),A=function(e){return{user:e.authReducer.user,isAuthed:e.authReducer.isAuthed}};d.propTypes={logout:p.a.func.isRequired,isAuthed:p.a.bool.isRequired},t.a=Object(c.b)(A,{logout:m.b,push:l.b})(d)},755:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(283),i=n(1),u=(n.n(i),n(282)),c=n(756),l=(n.n(c),function(e){var t=e.isAuthed,n=e.user,r=e.logout,i=e.profile,c=e.push;return a.a.createElement(u.m,{inverse:!0,className:"NavContainer"},a.a.createElement(u.m.Header,null,a.a.createElement(u.m.Brand,null,a.a.createElement(o.a,{to:"/dashboard"},"LeadCloud")),a.a.createElement(u.m.Toggle,{className:"toggle"})),a.a.createElement(u.m.Collapse,null,a.a.createElement(u.j,null,a.a.createElement(s,{isAuthed:t,push:c}),a.a.createElement(p,{isAuthed:t,push:c}),a.a.createElement(f,{isAuthed:t,push:c})),a.a.createElement(u.j,{className:"navContainerRight",pullRight:!0},a.a.createElement(m,{isAuthed:t,user:n,logout:r,profile:i,push:c}),a.a.createElement(h,{user:n,isAuthed:t}))))}),s=function(e){var t=e.isAuthed,n=e.push;return t&&a.a.createElement(u.i,{className:"menuItem",eventKey:"2",onSelect:function(){return n("/contacts")}},"Contacts")},p=function(e){var t=e.isAuthed,n=e.push;return t&&a.a.createElement(u.i,{className:"menuItem",eventKey:"3",onSelect:function(){return n("/listings")}},"Listings")},f=function(e){var t=e.isAuthed,n=e.push;return t&&a.a.createElement(u.i,{className:"menuItem",eventKey:"1",onSelect:function(){return n("/emails")}},"Emails")},m=function(e){var t=e.isAuthed,n=e.user,r=e.logout,o=e.push;return t&&a.a.createElement(u.k,{className:"menuItem",eventKey:2,title:"Welcome, "+n.firstName+"!",id:"basic-nav-dropdown"},a.a.createElement(u.i,{className:"menuItem",eventKey:"3",onSelect:function(){return o("/profile")}},"Profile"),a.a.createElement(u.i,{divider:!0}),a.a.createElement(u.i,{onClick:function(){o("/"),r()},eventKey:2.4},"Logout"))},h=function(e){var t=e.isAuthed,n=e.user;return t&&a.a.createElement(o.a,{className:"navitem",to:"/profile"},a.a.createElement("div",null,a.a.createElement("img",{className:"navProfilePic",src:n.googlePhoto||null,alt:"profile pic"})))};t.a=l},756:function(e,t,n){var r=n(757);"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!1};a.transform=void 0;n(742)(r,a);r.locals&&(e.exports=r.locals)},757:function(e,t,n){t=e.exports=n(741)(!0),t.push([e.i,".NavContainer{margin-left:0;border-radius:0}.menuItem a{background-color:transparent!important;outline:none!important}.navProfilePic{border-radius:50%;width:32px;height:32px}.navContainerRight{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}","",{version:3,sources:["/Users/Alex_K/Dropbox/Development/Portfolio/leadcloud-v5/client/src/components/Navigation/Navigation.css"],names:[],mappings:"AAAA,cACE,cAAiB,AACjB,eAAmB,CACpB,AAED,YACE,uCAAyC,AACzC,sBAAyB,CAC1B,AAED,eACE,kBAAmB,AACnB,WAAY,AACZ,WAAa,CACd,AAED,mBACE,oBAAqB,AACrB,aAAc,AACd,uBAAwB,AACpB,mBAAoB,AACxB,sBAAuB,AACnB,kBAAoB,CACzB",file:"Navigation.css",sourcesContent:[".NavContainer {\n  margin-left: 0px;\n  border-radius: 0px;\n}\n\n.menuItem a {\n  background-color: transparent !important;\n  outline: none !important;\n}\n\n.navProfilePic {\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n}\n\n.navContainerRight {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n  -ms-flex-align: center;\n      align-items: center;\n}\n"],sourceRoot:""}])},764:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var i=t[a](o),u=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}n.d(t,"g",function(){return m}),n.d(t,"b",function(){return A}),n.d(t,"a",function(){return g}),n.d(t,"c",function(){return y}),n.d(t,"e",function(){return b}),n.d(t,"d",function(){return E}),n.d(t,"f",function(){return x});var a=n(286),o=n.n(a),i=n(284),u=n.n(i),c=n(38),l=this,s=function(e,t){return{type:c.t,emails:e,pageToken:t}},p=function(e){return{type:c.s,email:e}},f=function(e,t){return{type:c.u,emailsByContact:e,pageToken:t}},m=function(e){return{type:c.w,emailQuery:e}},h=function(e){return{type:c.k,isFetching:e}},d=function(e){return{type:c.m,isLoading:e}},A=function(){return{type:c.e}},g=function(){return{type:c.d}},v=function(e){return{type:c.x,error:e}},y=function(){return{type:c.f}},b=function(e,t,n){return function(){var a=r(o.a.mark(function r(a){var i;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t||a(h(!0)),a(d(!0)),r.prev=2,r.next=5,u.a.get("/api/email/gmail?maxResults="+e+"&pageToken="+t);case 5:i=r.sent,a(s(n.concat(i.data.emailArray),i.data.nextPageToken)),a(h(!1)),a(d(!1)),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(2),console.error("Fetching emails from gmail unsuccessful",r.t0),a(h(!1));case 15:case"end":return r.stop()}},r,l,[[2,11]])}));return function(e){return a.apply(this,arguments)}}()},E=function(e){return function(){var t=r(o.a.mark(function t(n){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(h(!0)),t.prev=1,t.next=4,u.a.get("/api/email/gmail/"+e);case 4:r=t.sent,n(p(r.data)),n(h(!1)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error("Fetching single email unsuccessful",t.t0),n(h(!1));case 13:case"end":return t.stop()}},t,l,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},x=function(e,t,n,a){return function(){var i=r(o.a.mark(function r(i){var c;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i(d(!0)),r.prev=1,r.next=4,u.a.get("/api/email/gmail?maxResults="+t+"&pageToken="+n+"&q="+e);case 4:c=r.sent,i(f(a.concat(c.data.emailArray),c.data.nextPageToken)),i(d(!1)),r.next=14;break;case 9:r.prev=9,r.t0=r.catch(1),console.error("Fetching emails by contact unsuccessful",r.t0),i(v("ERROR FETCHING EMAILS BY CONTACT")),i(d(!1));case 14:case"end":return r.stop()}},r,l,[[1,9]])}));return function(e){return i.apply(this,arguments)}}()}}});
//# sourceMappingURL=8.7982a537.chunk.js.map