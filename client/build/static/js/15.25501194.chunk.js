webpackJsonp([15],{1070:function(e,a,t){"use strict";function n(e){return function(){var a=e.apply(this,arguments);return new Promise(function(e,t){function n(r,c){try{var l=a[r](c),o=l.value}catch(e){return void t(e)}if(!l.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}t.d(a,"g",function(){return f}),t.d(a,"f",function(){return p}),t.d(a,"b",function(){return E}),t.d(a,"a",function(){return g}),t.d(a,"h",function(){return v}),t.d(a,"d",function(){return b}),t.d(a,"e",function(){return y}),t.d(a,"c",function(){return w});var r=t(267),c=t.n(r),l=t(266),o=t.n(l),s=t(10),i=this,m=function(e,a){return{type:s.t,emails:e,pageToken:a}},u=function(e){return{type:s.s,email:e}},f=function(e,a){return{type:s.u,emailsByContact:e,pageToken:a}},p=function(e){return{type:s.w,emailQuery:e}},d=function(e){return{type:s.f,isFetching:e}},h=function(e){return{type:s.g,isLoading:e}},E=function(){return{type:s.c}},g=function(){return{type:s.b}},v=function(e){return{type:s.x,error:e}},b=function(e,a,t){return function(){var r=n(c.a.mark(function n(r){var l;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a||r(d(!0)),r(h(!0)),n.prev=2,n.next=5,o.a.get("/api/email/gmail?maxResults="+e+"&pageToken="+a);case 5:l=n.sent,r(m(t.concat(l.data.emailArray),l.data.nextPageToken)),r(d(!1)),r(h(!1)),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(2),console.error("Fetching emails from gmail unsuccessful",n.t0.response.data),r(v("Fetching emails from Gmail unsuccessful: ("+n.t0.response.data.error.code+", "+n.t0.response.data.error.errors[0].message+")")),r(d(!1));case 16:case"end":return n.stop()}},n,i,[[2,11]])}));return function(e){return r.apply(this,arguments)}}()},y=function(e,a,t,r){return function(){var l=n(c.a.mark(function n(l){var s;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l(h(!0)),n.prev=1,n.next=4,o.a.get("/api/email/gmail?maxResults="+a+"&pageToken="+t+"&q="+e);case 4:s=n.sent,s.data.emailArray&&l(f(r.concat(s.data.emailArray),s.data.nextPageToken)),l(h(!1)),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(1),console.error("Fetching emails by contact unsuccessful",n.t0),l(v("Fetching Contact Emails from Gmail unsuccessful: ("+n.t0.response.data.error.code+", "+n.t0.response.data.error.errors[0].message+")")),l(h(!1));case 14:case"end":return n.stop()}},n,i,[[1,9]])}));return function(e){return l.apply(this,arguments)}}()},w=function(e){return function(){var a=n(c.a.mark(function a(t){var n;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t(d(!0)),a.prev=1,a.next=4,o.a.get("/api/email/gmail/"+e);case 4:n=a.sent,t(u(n.data)),t(d(!1)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),console.error("Fetching single email unsuccessful",a.t0),t(d(!1));case 13:case"end":return a.stop()}},a,i,[[1,9]])}));return function(e){return a.apply(this,arguments)}}()}},755:function(e,a,t){"use strict";function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function r(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}function c(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var l=t(0),o=t.n(l),s=t(18),i=t(280),m=t.n(i),u=t(28),f=t(1070),p=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}(),d=function(e){function a(){var e,t,c,l;n(this,a);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return t=c=r(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(s))),c.state={dropdownOpen:!1},c.toggle=function(){c.setState({dropdownOpen:!c.state.dropdownOpen})},l=t,r(c,l)}return c(a,e),p(a,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchEmail)(e.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){this.props.email!==e.email&&this.iframe.contentWindow.document.write(""+e.email.html)}},{key:"componentWillUnmount",value:function(){(0,this.props.clearEmail)()}},{key:"render",value:function(){var e=this,a=this.props,t=(a.isAuthed,a.email);return o.a.createElement(o.a.Fragment,null,o.a.createElement("main",{className:"message"},o.a.createElement("div",{className:"toolbar"},o.a.createElement(u.g,null,o.a.createElement(u.e,{color:"light"},o.a.createElement("span",{className:"fa fa-star"})),o.a.createElement(u.e,{color:"light"},o.a.createElement("span",{className:"fa fa-star-o"})),o.a.createElement(u.e,{color:"light"},o.a.createElement("span",{className:"fa fa-bookmark-o"}))),o.a.createElement(u.g,null,o.a.createElement(u.e,{color:"light"},o.a.createElement("span",{className:"fa fa-mail-reply"})),o.a.createElement(u.e,{color:"light"},o.a.createElement("span",{className:"fa fa-mail-reply-all"})),o.a.createElement(u.e,{color:"light"},o.a.createElement("span",{className:"fa fa-mail-forward"}))),o.a.createElement(u.e,{color:"light"},o.a.createElement("span",{className:"fa fa-trash-o"})),o.a.createElement(u.f,{isOpen:this.state.dropdownOpen,toggle:this.toggle},o.a.createElement(u.t,{caret:!0,color:"light"},o.a.createElement("span",{className:"fa fa-tags"})),o.a.createElement(u.s,null,o.a.createElement(u.r,null,"add label",o.a.createElement(u.b,{color:"danger"},"Home")),o.a.createElement(u.r,null,"add label",o.a.createElement(u.b,{color:"info"},"Job")),o.a.createElement(u.r,null,"add label",o.a.createElement(u.b,{color:"success"},"Clients")),o.a.createElement(u.r,null,"add label",o.a.createElement(u.b,{color:"warning"},"News"))))),o.a.createElement("div",{className:"details"},o.a.createElement("div",{className:"title"},t&&t.subject),o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"from"},o.a.createElement("span",null,t.from&&t.from.value[0].name),t.from&&t.from.value[0].address),o.a.createElement("div",{className:"date"},t&&m()(t.date).format("ddd, M/D/YY h:mma"))),o.a.createElement("div",{className:"content"},o.a.createElement("iframe",{ref:function(a){return e.iframe=a},title:"Email",frameBorder:0,src:"about:blank",scrolling:"yes",width:"100%"})),o.a.createElement("div",{className:"attachments"},o.a.createElement("div",{className:"attachment"},o.a.createElement(u.b,{color:"danger"},"zip")," ",o.a.createElement("b",null,"bootstrap.zip")," ",o.a.createElement("i",null,"(2,5MB)"),o.a.createElement("span",{className:"menu"},o.a.createElement("a",{href:"#",className:"fa fa-search"}),o.a.createElement("a",{href:"#",className:"fa fa-share"}),o.a.createElement("a",{href:"#",className:"fa fa-cloud-download"}))),o.a.createElement("div",{className:"attachment"},o.a.createElement(u.b,{color:"info"},"txt")," ",o.a.createElement("b",null,"readme.txt")," ",o.a.createElement("i",null,"(7KB)"),o.a.createElement("span",{className:"menu"},o.a.createElement("a",{href:"#",className:"fa fa-search"}),o.a.createElement("a",{href:"#",className:"fa fa-share"}),o.a.createElement("a",{href:"#",className:"fa fa-cloud-download"}))),o.a.createElement("div",{className:"attachment"},o.a.createElement(u.b,{color:"success"},"xls")," ",o.a.createElement("b",null,"spreadsheet.xls")," ",o.a.createElement("i",null,"(984KB)"),o.a.createElement("span",{className:"menu"},o.a.createElement("a",{href:"#",className:"fa fa-search"}),o.a.createElement("a",{href:"#",className:"fa fa-share"}),o.a.createElement("a",{href:"#",className:"fa fa-cloud-download"})))),o.a.createElement("form",{method:"post",action:""},o.a.createElement(u.v,null,o.a.createElement(u.w,{type:"textarea",id:"message",name:"body",rows:"12",placeholder:"Click here to reply"})),o.a.createElement(u.v,null,o.a.createElement(u.e,{type:"submit",color:"success"},"Send message"))))))}}]),a}(o.a.Component),h=function(e){return{email:e.emailReducer.email,isFetching:e.emailReducer.isFetching}},E={fetchEmail:f.c,clearEmail:f.a};a.default=Object(s.b)(h,E)(d)}});
//# sourceMappingURL=15.25501194.chunk.js.map